tasks:
- check code for performance improvement for multiple cpu cores
    - update code for multi thread 
        - pathfinding 
            - data structure PathfindingData fit to chunks and tempData for each thread
        - citizenCounter: u32 = 0,
        - citizenCounterLastTick: u32 = 0,
        - citizensPerMinuteCounter: f32 = 0,            
        - activeChunkKeys

    - tick chunks far away from each other, so they can not interfere
        - continue: got a "unreachable code" error which i don't undestand. Threading still pretty slow
        - algorithm to split active chunks into multiple arrays for each thread/core
        - how efficient is thread spawn and join?

    - threads gets chunks assigned
    - handle memory access from one chunk to another. Mutex? atomic? something different?
    - vulkan data setup. Can it also be split to multiple cpus?



- bug: deleting can crash game
    - integer overflow, D:\mein\github_gamedev\Zig_ChatSim\src\citizen.zig:356:31: 0x7ff7f71f682c in buildingFinished (zig.exe.obj),  building.woodRequired -= 1;
- delete test simd branch?


- features:
    - performance            
        - check code for performance improvement for multiple cpu cores
        - performance of hashMap varies a lot. at some points goes below 30 fps and at other cpu is only at 17%
        - arena allocator (buggy)?
    - save game progress?
    - put on steam

- lean more vulkan?
    - go over docu? https://docs.vulkan.org/spec/latest/index.html
        - this docu somehow hard do understand for me. Unsure in what cases it helps or if i need more knowledge first
  
Some data:
- FPS: 147, citizens: 33907, gameTime: 341472, end FPS: 91.29745 (16.05.2025)
- ~102_000 citizen my cpu can not keep 60fps anymore(while streamng + debug mode)
- FPS: 143, citizens: 33112, gameTime: 338112, end FPS: 90.19086 (pathfinding code change for multi thread -> graph data)
- FPS: 143, citizens: 33064, gameTime: 337904, end FPS: 89.50953 (pathfinding -> temp data)

- fps test case: normal test, on 25k citizens -> set speed to 1, show fps, zoom out max
  FPS: 157, citizens: 31177, gameTime: 330736, end FPS: 119.17211 (16.05.2025)

Goal:
- a game which should not take more than 6month to make. Maybe publish to steam.
- performance should matter
- game idea:
    - city builder extreme fast
    - i have citizens. Each citizen just needs a home and food
        - citizens can be chatters
    - i as the player can:
        - place building orders: 
            - houses for citizens to live in
            - tree farm: citizens can become lumberjacks to gather wood and cut it. Required for building houses
            - farm: citizens can become farmers to plant food. Required for not starving
            - citizens must build these and gather resources for it
            - storage area. Used for storing food and wood
            - upgrade building:
                - bigger house: more people can live in it
    - citizens will automatically join if houses with space exit
    - game start with one small house and one citizen (the player) and storage area with some food and wood
    - game loop:
        - build more houses -> get more citizens
        - more citizen need more food -> build more or bigger farms
        - more citizens -> can build more faster
        - scale town up to what the PC can handle
            -> code performance matters
            -> expectations with my pc: 10_000 citizens and 60fp should be easy
                -> expectations which i guess should be possible: 100_000 citizens and 60fps

