tasks:
- bug: infinite growing tree/potato crashed vulkan paint
    - how to reproduce, does not work every time. maybe every 3rd time
        - start game. 3citizens in area1. one potate in left area. 
            - directly go to 2 threads. Moving camera with keys directly to where chunk with potato not visible and citiznes still ticking
            - either bugged data will happen or not. 
        - somehow while moving camera chunk stopped ticking although last info was it is not idle
                areax -1 0 not idle 0
                areax -1 0 chunkArea.ChunkAreaIdleTypeData{ .notIdle = void } 0
                printSomeInfo
                chunkArea -1 0, chunkArea.ChunkAreaIdleTypeData{ .idle = void }
                    chunk -1 0, 1, 1
                    potato map.PotatoField{ .position = main.Position{ .x = -1e1, .y = 1e1 }, .citizenOnTheWay = 0, .growStartTimeMs = 6755840, .fullyGrown = false }



- bug: memory leak
    - D:\mein\github_gamedev\Zig_ChatSim\src\save.zig:464:45: 0x7ff707340e0d in loadChunkAreaFromFile (zig.exe.obj)
            const chunks = try state.allocator.alloc(mapZig.MapChunk, chunkAreaZig.ChunkArea.SIZE * chunkAreaZig.ChunkArea.SIZE);

- problem: load chunkArea but bighouse from other chunkArea could block some tiles
- bug: not all chunks ticked. Not all buildings where being build
- bug: bighouse over work order normal house
- check process RAM usage. Was using 1GB after scolling thorugh a lot of areas, but should not have been so much?
    - where could the data be?
- check performance for chunks in chunkAreas
    - can improve by not always searching area again and just chunk
- save on crash/panic?

- UI: reset 
- UI: sound volume setting
- check: make map round?
    - or check if limit to break game can be reached in reasonable time

- think about: save if citizens was starved?
- path paint optimization by again counting path tiles before as i count regardless

- small changes:
    - idle citizens walk slower
- check "ensureUnusedCapacity" values

- limit citizen hunger, currently infite negative
- bug: copy paste big area crash
- delete test branches?

- features:
    - bugfixing/testing
    - put on steam

  
Some data:
- FPS: 109, citizens: 32993, gameTime: 330000, end FPS: 67.35672 (12.06.2025)
- ~102_000 citizen my cpu can not keep 60fps anymore(while streamng + debug mode)
- FPS: 106, citizens: 34138, gameTime: 330000, end FPS: 67.22983 (fixed duplicated pathing data issue)
- FPS: 105, citizens: 34093, gameTime: 330000, end FPS: 65.335785 (new request for unidle)

Goal:
- a game which should not take more than 6month to make. Maybe publish to steam.
- performance should matter
- game idea:
    - city builder extreme fast
    - i have citizens. Each citizen just needs a home and food
        - citizens can be chatters
    - i as the player can:
        - place building orders: 
            - houses for citizens to live in
            - tree farm: citizens can become lumberjacks to gather wood and cut it. Required for building houses
            - farm: citizens can become farmers to plant food. Required for not starving
            - citizens must build these and gather resources for it
            - storage area. Used for storing food and wood
            - upgrade building:
                - bigger house: more people can live in it
    - citizens will automatically join if houses with space exit
    - game start with one small house and one citizen (the player) and storage area with some food and wood
    - game loop:
        - build more houses -> get more citizens
        - more citizen need more food -> build more or bigger farms
        - more citizens -> can build more faster
        - scale town up to what the PC can handle
            -> code performance matters
            -> expectations with my pc: 10_000 citizens and 60fp should be easy
                -> expectations which i guess should be possible: 100_000 citizens and 60fps

